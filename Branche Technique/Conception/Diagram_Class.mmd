classDiagram
    direction LR

    class User {
        +id: bigint
        +name: string
        +email: string
        +password: string
        +group_id: bigint?
    }

    class Groupe {
        +id: bigint
        +nom: string
        +annee_promotion: year
        +description: text?
    }

    class Formulaire {
        +id: bigint
        +titre: string
        +description: text?
        +deadline: datetime
    }

    class Question {
        +id: bigint
        +formulaire_id: bigint
        +enonce: text
        +type: enum
        +ordre: int
        +obligatoire: bool
    }

    class OptionReponse {
        +id: bigint
        +question_id: bigint
        +texte: string
    }

    class Entretien {
        +id: bigint
        +date_heure: datetime
        +duree_minutes: int
        +responsable_id: bigint
        +groupe_id: bigint
        +formulaire_id: bigint?
        +statut: enum
    }

    class EntretienApprenant {
        +id: bigint
        +entretien_id: bigint
        +apprenant_id: bigint
    }

    class ReponseFormulaire {
        +id: bigint
        +formulaire_id: bigint
        +apprenant_id: bigint
        +date_soumission: datetime
    }

    class ReponseQuestion {
        +id: bigint
        +reponse_formulaire_id: bigint
        +question_id: bigint
        +reponse_texte: text?
    }

    class ReponseOption {
        +id: bigint
        +reponse_question_id: bigint
        +option_reponse_id: bigint
    }

    %% Relationships
    User --> Groupe : belongs to
    Groupe --> User : has many

    Formulaire --> Question : has many
    Question --> OptionReponse : has many

    Entretien --> Groupe : belongs to
    Entretien --> Formulaire : uses
    Entretien --> User : created by
    Entretien --> EntretienApprenant : has many

    EntretienApprenant --> Entretien : belongs to
    EntretienApprenant --> User : apprenant

    Formulaire --> ReponseFormulaire : has many
    User --> ReponseFormulaire : submits

    ReponseFormulaire --> ReponseQuestion : has many
    ReponseQuestion --> ReponseOption : has many
    ReponseQuestion --> Question : relates to

    OptionReponse --> Question : belongs to
    ReponseOption --> OptionReponse : selected
