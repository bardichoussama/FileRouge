classDiagram
    direction LR

    %% ==== Entities ====
    class User {
        +int id
        +string name
        +string email
        +string password
        +int? group_id
    }

    class Groupe {
        +int id
        +string nom
        +int annee_promotion
        +string? description
    }

    class Formulaire {
        +int id
        +string titre
        +string? description
        +datetime deadline
    }

    class Question {
        +int id
        +int formulaire_id
        +string enonce
        +string type
        +int ordre
        +bool obligatoire
    }

    class OptionReponse {
        +int id
        +int question_id
        +string texte
    }

    class Entretien {
        +int id
        +datetime date_heure
        +int duree_minutes
        +int responsable_id
        +int groupe_id
        +int? formulaire_id
        +string statut
    }

    class EntretienApprenant {
        +int id
        +int entretien_id
        +int apprenant_id
    }

    class ReponseFormulaire {
        +int id
        +int formulaire_id
        +int apprenant_id
        +datetime date_soumission
    }

    class ReponseQuestion {
        +int id
        +int reponse_formulaire_id
        +int question_id
        +string? reponse_texte
    }

    class ReponseOption {
        +int id
        +int reponse_question_id
        +int option_reponse_id
    }

    %% ==== Relationships ====

    %% Users
    User "0..*" --> "1" Groupe : belongs to
    Entretien "1" --> "1" User : responsable
    EntretienApprenant "1" --> "1" User : apprenant
    ReponseFormulaire "1" --> "1" User : apprenant

    %% Groupe
    Entretien "1" --> "1" Groupe : for

    %% Formulaire
    Formulaire "1" --> "0..*" Question : contains
    Entretien "0..1" --> "1" Formulaire : uses
    ReponseFormulaire "1" --> "1" Formulaire : is answer of

    %% Questions
    Question "1" --> "0..*" OptionReponse : has options
    ReponseFormulaire "1" --> "0..*" ReponseQuestion : has answers
    ReponseQuestion "1" --> "1" Question : answers
    ReponseQuestion "1" --> "0..*" ReponseOption : with selected options
    ReponseOption "1" --> "1" OptionReponse : option

    %% Entretien & participation
    Entretien "1" --> "0..*" EntretienApprenant : has participants
    EntretienApprenant "1" --> "1" Entretien : entretien
